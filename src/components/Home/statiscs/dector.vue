<template>
  <div class="dector">
    <div class="dec">
      <svg
        class="svdec"
        xmlns="http://www.w3.org/2000/svg"
        width="135.549"
        height="64.583"
        viewBox="0 0 135.549 64.583"
      >
        <g
          id="Group_200"
          data-name="Group 200"
          transform="matrix(-0.966, 0.259, -0.259, -0.966, 135.549, 33.089)"
        >
          <path
            id="Path_484"
            data-name="Path 484"
            d="M.3,9.668a29.481,29.481,0,0,1,6.743-6.82A15.489,15.489,0,0,1,13.213.163a10.317,10.317,0,0,1,4.732.248,12.449,12.449,0,0,1,5.638,3.767c3.287,3.764,6.28,5.609,8.8,6.432,4.4,1.438,7.264-.169,7.264-.169a.089.089,0,0,1,.1.148s-2.789,2.164-7.684,1.3c-2.866-.5-6.394-2.073-10.521-5.677A9.913,9.913,0,0,0,17.05,3.8a7.9,7.9,0,0,0-3.207-.047A14.034,14.034,0,0,0,7.96,6.627a28.45,28.45,0,0,0-4.927,4.956A1.667,1.667,0,1,1,.3,9.668Z"
            transform="translate(96.22 3.838)"
            fill="#e9ebf6"
            fill-rule="evenodd"
          />
          <path
            id="Path_485"
            data-name="Path 485"
            d="M13.8,38.136S14.719,24.682,1.475,10A5.707,5.707,0,0,1,4.794.533c2.171-.342,5.4.3,9.947,3.838,2.585,2.011,4.7,2.649,6.446,2.388a6.184,6.184,0,0,0,3.566-2.065,12.017,12.017,0,0,0,2.178-3.383,2.052,2.052,0,1,1,3.827,1.481,16.34,16.34,0,0,1-3,4.7,10.277,10.277,0,0,1-5.964,3.328c-2.569.384-5.775-.254-9.572-3.207C9.051,5.145,6.948,4.349,5.442,4.585a1.6,1.6,0,0,0-.922,2.659C19.157,23.476,17.891,38.45,17.891,38.45a2.052,2.052,0,0,1-4.092-.315Z"
            transform="translate(69.043 12.411)"
            fill="#e9ebf6"
            fill-rule="evenodd"
          />
          <path
            id="Path_486"
            data-name="Path 486"
            d="M2.57,6.264q1.965-.522,3.981-.912,1.994-.386,4.032-.639l4.592-.4,3.241-.073c1.529,0,3.044.065,4.544.179q2.283.173,4.517.507A62.468,62.468,0,0,1,39.381,7.9a68.375,68.375,0,0,1,7.575,3.178,62.544,62.544,0,0,1,16.8,12.016.919.919,0,0,0,1.359-1.237A62.562,62.562,0,0,0,48.659,7.907a56.926,56.926,0,0,0-7.866-3.8A61.163,61.163,0,0,0,28.113.72Q25.723.357,23.277.172,20.87-.007,18.416,0L14.951.105,10.045.573q-2.175.3-4.3.736Q3.594,1.753,1.5,2.338A2.035,2.035,0,1,0,2.57,6.264Z"
            transform="translate(0)"
            fill="#e9ebf6"
            fill-rule="evenodd"
          />
        </g>
      </svg>
      <img src="~assets/img/dector.png" alt="" />
    </div>
    <div class="details">
      <div class="tow">
        <!-- <slot></slot> -->
        <h3>{{ number }}</h3>
        <h3 v-if="query">{{ totalCount }}</h3>
        <p>{{ name }}</p>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: "Dector",
  data() {
    return {
      totalCount: ""
    };
  },
  props: ["name", "number", "query"],
  mounted() {
    if (this.query) {
      this.$apollo
        .query({
          query: this.query
        })
        .then(res => {
          const key = Object.keys(res.data);
          this.totalCount = res.data[key].totalCount || res.data[key];          
        });
    }
  }
};
</script>

<style></style>
