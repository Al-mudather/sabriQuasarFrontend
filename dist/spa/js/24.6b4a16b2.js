(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{"6d24":function(e,t,s){},c2d3:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"msPayment"},[a("div",{staticClass:"text-center text-h6 text-weight-regular"},[e._v("\n        ادخل معلوماتك الشخصيه\n    ")]),a("div",{staticClass:"details q-mt-md"},[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 col-xs-12"},[a("div",{},[a("q-input",{attrs:{rounded:"",outlined:"",hint:"Enter your Name in english",label:"Full Name",rules:[function(e){return!!e||"* Required"}]},model:{value:e.fullName,callback:function(t){e.fullName=t},expression:"fullName"}})],1)]),a("div",{staticClass:"col-lg-12 col-xs-12 "},[a("div",{},[a("q-input",{attrs:{rounded:"",outlined:"",label:e.whatsAppLabel,mask:"################"},model:{value:e.whatsAppNumber,callback:function(t){e.whatsAppNumber=t},expression:"whatsAppNumber"}})],1)]),a("div",{staticClass:"col-lg-12 col-xs-12 "},[a("div",{},[a("q-input",{attrs:{rounded:"",outlined:"",label:e.telegramLabel,mask:"################"},model:{value:e.telegramNumber,callback:function(t){e.telegramNumber=t},expression:"telegramNumber"}})],1)])]),a("div",{staticClass:"but",on:{click:function(t){return e.UPDATE_THE_USER_PROFILE(t)}}},[a("h3",[a("img",{attrs:{src:s("c94f"),alt:""}}),e._v(e._s(e.$t("حفظ و الدهاب الى صفحة البيع")))])]),a("q-inner-loading",{attrs:{showing:e.visible}},[a("q-spinner-hourglass",{attrs:{size:"70px"}})],1)],1)])])},i=[],l=(s("ddb0"),s("b34c")),n=s("0595"),r={name:"userInformation",data(){return{fullName:null,whatsAppNumber:null,whatsAppLabel:this.$t("رقم الواتساب اذا وجد"),telegramLabel:this.$t("رقم التلجرام اذا وجد"),telegramNumber:null,visible:!1}},async created(){const e=await this.$apollo.query({query:n["a"]});e.data.me.pk&&(e.data.me.fullName&&(e.data.me.phoneNumber2||e.data.me.phoneNumber3)?this.$router.push({name:"payment"}):(this.fullName=e.data.me.fullName,this.whatsAppNumber=e.data.me.phoneNumber2,this.telegramNumber=e.data.me.phoneNumber3))},methods:{errorHandler(e){if("object"==typeof e)for(const t of Object.keys(e))for(const s of e[t])console.log(s),"object"==typeof s.message?this.$q.notify({type:"warning",progress:!0,multiLine:!0,position:"top",message:s.message.msg}):this.$q.notify({type:"warning",progress:!0,multiLine:!0,position:"top",message:` ${s.message} : ${t}`});else for(const t in e)"object"==typeof t.message?this.$q.notify({type:"warning",progress:!0,multiLine:!0,position:"top",message:t.message.msg}):this.$q.notify({type:"warning",progress:!0,multiLine:!0,position:"top",message:t.message})},async UPDATE_THE_USER_PROFILE(e){e.preventDefault(),this.visible=!0;try{if(this.fullName&&(this.whatsAppNumber||this.telegramNumber)){const e=await this.$apollo.mutate({mutation:l["a"],variables:{fullName:this.fullName,phoneNumber2:this.whatsAppNumber,phoneNumber3:this.telegramNumber}}),t=e.data.updateAccount.success,s=e.data.updateAccount.errors;t&&(this.visible=!1,this.$q.notify({type:"positive",multiLine:!0,progress:!0,message:"Great the data wase updated"}),this.$router.push({name:"payment"})),s&&(this.visible=!1,this.errorHandler(s))}else this.visible=!1,this.$q.notify({type:"negative",multiLine:!0,progress:!0,message:"يجب ان تكمل بياناتك لكي نستطيع التواصل معك"})}catch(t){this.visible=!1}}}},o=r,u=(s("cf8f"),s("2877")),m=s("27f9"),p=s("74f7"),c=s("9149"),d=s("8572"),h=s("eebe"),b=s.n(h),f=Object(u["a"])(o,a,i,!1,null,null,null);t["default"]=f.exports;b()(f,"components",{QInput:m["a"],QInnerLoading:p["a"],QSpinnerHourglass:c["a"],QField:d["a"]})},cf8f:function(e,t,s){"use strict";s("6d24")}}]);